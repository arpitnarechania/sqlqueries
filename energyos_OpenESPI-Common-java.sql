CREATE TABLE `usage_point_related_links` ( `usage_point_id` bigint(20) NOT NULL, `href` varchar(255) DEFAULT NULL, `rel` varchar(255) DEFAULT NULL, KEY `FK_4f728266adfa41b2b8abc65c6e9` (`usage_point_id`), CONSTRAINT `FK_4f728266adfa41b2b8abc65c6e9` FOREIGN KEY (`usage_point_id`) REFERENCES `usage_points` (`id`))
CREATE TABLE `resources` ( `id` bigint(20) NOT NULL, `uri` varchar(255) DEFAULT NULL, KEY `FK_37f4ae42a5f94b85ac063017869` (`id`), CONSTRAINT `FK_37f4ae42a5f94b85ac063017869` FOREIGN KEY (`id`) REFERENCES `BatchList` (`id`))
SELECT authorization FROM Authorization authorization WHERE authorization.resourceURI LIKE :uri
CREATE TABLE `time_configurations` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `description` varchar(255) DEFAULT NULL, `published` datetime DEFAULT NULL, `self_link_href` varchar(255) DEFAULT NULL, `self_link_rel` varchar(255) DEFAULT NULL, `up_link_href` varchar(255) DEFAULT NULL, `up_link_rel` varchar(255) DEFAULT NULL, `updated` datetime DEFAULT NULL, `uuid` varchar(255) NOT NULL, `dstEndRule` tinyblob, `dstOffset` bigint(20) NOT NULL, `dstStartRule` tinyblob, `tzOffset` bigint(20) NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `UK_322e8ed3a1024462a1061593ae2` (`uuid`))
select list from BatchList list
SELECT subscription FROM Subscription subscription WHERE subscription.hashedId = :hashedId
SELECT authorization FROM Authorization authorization WHERE authorization.id = :id
SELECT point FROM UsagePoint point WHERE point.updated > :lastUpdate
SELECT subscription FROM Subscription subscription
SELECT reading FROM MeterReading reading WHERE reading.id = :id
CREATE TABLE `oauth_client_token` ( `token_id` varchar(256) DEFAULT NULL, `token` mediumblob, `authentication_id` varchar(256) DEFAULT NULL, `user_name` varchar(256) DEFAULT NULL, `client_id` varchar(256) DEFAULT NULL)
CREATE TABLE `service_delivery_points` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `customerAgreement` varchar(255) DEFAULT NULL, `name` varchar(255) DEFAULT NULL, `tariffProfile` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`))
SELECT customer FROM RetailCustomer customer WHERE customer.username = :username
SELECT block FROM IntervalBlock block WHERE block.meterReading.id = :meterReadingId
CREATE TABLE `retail_customers` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `description` varchar(255) DEFAULT NULL, `published` datetime DEFAULT NULL, `self_link_href` varchar(255) DEFAULT NULL, `self_link_rel` varchar(255) DEFAULT NULL, `up_link_href` varchar(255) DEFAULT NULL, `up_link_rel` varchar(255) DEFAULT NULL, `updated` datetime DEFAULT NULL, `uuid` varchar(255) NOT NULL, `enabled` bit(1) NOT NULL, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `password` varchar(100) DEFAULT NULL, `role` varchar(255) NOT NULL, `username` varchar(30) DEFAULT NULL, PRIMARY KEY (`id`))
SELECT block FROM IntervalBlock block WHERE block.uuid = :uuid
SELECT summary FROM ElectricPowerUsageSummary summary WHERE summary.uuid = :uuid
CREATE TABLE `application_information_grant_types` ( `application_information_id` bigint(20) NOT NULL, `grantTypes` varchar(255) DEFAULT NULL, KEY `FK_61a6f8b0091946139543874e559` (`application_information_id`), CONSTRAINT `FK_61a6f8b0091946139543874e559` FOREIGN KEY (`application_information_id`) REFERENCES `application_information` (`id`))
CREATE TABLE `oauth_client_details` ( `client_id` varchar(255) NOT NULL, `resource_ids` varchar(256) DEFAULT NULL, `client_secret` varchar(256) DEFAULT NULL, `scope` varchar(1024) DEFAULT NULL, `authorized_grant_types` varchar(256) DEFAULT NULL, `web_server_redirect_uri` varchar(256) DEFAULT NULL, `authorities` varchar(256) DEFAULT NULL, `access_token_validity` int(11) DEFAULT NULL, `refresh_token_validity` int(11) DEFAULT NULL, `additional_information` varchar(4096) DEFAULT NULL, `autoapprove` varchar(256) DEFAULT NULL, PRIMARY KEY (`client_id`))
SELECT point FROM UsagePoint point WHERE point.id = :id
CREATE TABLE `reading_types_meter_readings` ( `reading_types_id` bigint(20) NOT NULL, `meterReadings_id` bigint(20) NOT NULL, UNIQUE KEY `UK_47a670721527488b84a5a98d629` (`meterReadings_id`), KEY `FK_041b1404ae52437480cb75e6966` (`meterReadings_id`), KEY `FK_5268261ff37f4147a4d1250213f` (`reading_types_id`), CONSTRAINT `FK_5268261ff37f4147a4d1250213f` FOREIGN KEY (`reading_types_id`) REFERENCES `reading_types` (`id`), CONSTRAINT `FK_041b1404ae52437480cb75e6966` FOREIGN KEY (`meterReadings_id`) REFERENCES `meter_readings` (`id`))
SELECT summary FROM ElectricPowerUsageSummary summary WHERE summary.id = :id
SELECT subscription FROM Subscription subscription WHERE subscription.uuid = :uuid
CREATE TABLE `oauth_code` ( `code` varchar(256) DEFAULT NULL, `authentication` mediumblob)
CREATE TABLE `interval_readings` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `cost` bigint(20) DEFAULT NULL, `duration` bigint(20) DEFAULT NULL, `start` bigint(20) DEFAULT NULL, `value` bigint(20) DEFAULT NULL, `interval_block_id` bigint(20) DEFAULT NULL, `consumptionTier` bigint(20) DEFAULT NULL, `tou` bigint(20) DEFAULT NULL, `cpp` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_982b1bcd359b47fcb5823a43d21` (`interval_block_id`), CONSTRAINT `FK_982b1bcd359b47fcb5823a43d21` FOREIGN KEY (`interval_block_id`) REFERENCES `interval_blocks` (`id`))
SELECT appinfo FROM ApplicationInformation appinfo WHERE appinfo.id = :id
CREATE TABLE `line_item` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `amount` bigint(20) NOT NULL, `dateTime` bigint(20) NOT NULL, `note` varchar(255) DEFAULT NULL, `rounding` bigint(20) DEFAULT NULL, `electric_power_usage_summary_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_5910ba965b7e41cd9bbe7949fbb` (`electric_power_usage_summary_id`), CONSTRAINT `FK_5910ba965b7e41cd9bbe7949fbb` FOREIGN KEY (`electric_power_usage_summary_id`) REFERENCES `electric_power_usage_summaries` (`id`))
CREATE TABLE `meter_readings` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `description` varchar(255) DEFAULT NULL, `published` datetime DEFAULT NULL, `self_link_href` varchar(255) DEFAULT NULL, `self_link_rel` varchar(255) DEFAULT NULL, `up_link_href` varchar(255) DEFAULT NULL, `up_link_rel` varchar(255) DEFAULT NULL, `updated` datetime DEFAULT NULL, `uuid` varchar(255) NOT NULL, `reading_type_id` bigint(20) DEFAULT NULL, `usage_point_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `UK_445adb83af2e4fa4928a31692e4` (`uuid`), KEY `FK_67563dc6050e46ba9fcbc86b721` (`reading_type_id`), KEY `FK_8eaf32259169401e8cae99a5891` (`usage_point_id`), CONSTRAINT `FK_8eaf32259169401e8cae99a5891` FOREIGN KEY (`usage_point_id`) REFERENCES `usage_points` (`id`), CONSTRAINT `FK_67563dc6050e46ba9fcbc86b721` FOREIGN KEY (`reading_type_id`) REFERENCES `reading_types` (`id`))
CREATE TABLE `application_information_grant_types` ( `application_information_id` bigint(20) NOT NULL, `grantTypes` varchar(255) DEFAULT NULL, KEY `FK_61a6f8b0091946139543874f559` (`application_information_id`), CONSTRAINT `FK_61a6f8b0091946139543874f559` FOREIGN KEY (`application_information_id`) REFERENCES `application_information` (`id`))
SELECT point FROM UsagePoint point WHERE point.uuid = :uuid
SELECT point FROM UsagePoint point WHERE point.uri = :uri
SELECT readingType FROM ReadingType readingType WHERE readingType.uuid = :uuid
CREATE TABLE `oauth_access_token` ( `token_id` varchar(256) DEFAULT NULL, `token` mediumblob, `authentication_id` varchar(256) DEFAULT NULL, `user_name` varchar(256) DEFAULT NULL, `client_id` varchar(256) DEFAULT NULL, `authentication` mediumblob, `refresh_token` varchar(256) DEFAULT NULL)
SELECT readingType FROM ReadingType readingType WHERE readingType.selfLink.href in (:relatedLinkHrefs)
SELECT authorization FROM Authorization authorization WHERE authorization.uuid = :uuid
SELECT authorization FROM Authorization authorization WHERE authorization.retailCustomer.id = :retailCustomerId AND authorization.resourceURI IS NOT NULL
SELECT block FROM IntervalBlock block WHERE block.id = :id
SELECT subscription from Subscription subscription WHERE subscription.authorization.id = :id
CREATE TABLE `clientdetails` ( `appId` varchar(255) NOT NULL, `resourceIds` varchar(256) DEFAULT NULL, `appSecret` varchar(256) DEFAULT NULL, `scope` varchar(1024) DEFAULT NULL, `grantTypes` varchar(256) DEFAULT NULL, `redirectUrl` varchar(256) DEFAULT NULL, `authorities` varchar(256) DEFAULT NULL, `access_token_validity` int(11) DEFAULT NULL, `refresh_token_validity` int(11) DEFAULT NULL, `additionalInformation` varchar(4096) DEFAULT NULL, `autoApproveScopes` varchar(256) DEFAULT NULL, PRIMARY KEY (`appId`))
SELECT info FROM ApplicationInformation info WHERE info.dataCustodianId = :dataCustodianId
CREATE TABLE `retail_customers` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `description` varchar(255) DEFAULT NULL, `published` datetime DEFAULT NULL, `self_link_href` varchar(255) DEFAULT NULL, `self_link_rel` varchar(255) DEFAULT NULL, `up_link_href` varchar(255) DEFAULT NULL, `up_link_rel` varchar(255) DEFAULT NULL, `updated` datetime DEFAULT NULL, `uuid` varchar(255) NOT NULL, `enabled` bit(1) NOT NULL, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `password` varchar(100) DEFAULT NULL, `role` varchar(255) NOT NULL, `username` varchar(30) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `application_information_scopes` ( `application_information_id` bigint(20) NOT NULL, `scope` varchar(255) DEFAULT NULL, KEY `FK_61a6f8b0091946139543874d559` (`application_information_id`), CONSTRAINT `FK_61a6f8b0091946139543874d559` FOREIGN KEY (`application_information_id`) REFERENCES `application_information` (`id`))
SELECT point FROM UsagePoint point WHERE point.retailCustomer.id = :retailCustomerId
SELECT info FROM ApplicationInformation info WHERE info.kind = :kind
SELECT authorization from Authorization authorization WHERE authorization.refreshToken = :refreshToken
SELECT authorization from Authorization authorization WHERE authorization.accessToken = :accessToken
SELECT customer FROM RetailCustomer customer WHERE customer.id = :id
CREATE TABLE `oauth_refresh_token` ( `token_id` varchar(256) DEFAULT NULL, `token` mediumblob, `authentication` mediumblob)
CREATE TABLE `interval_blocks` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `description` varchar(255) DEFAULT NULL, `published` datetime DEFAULT NULL, `self_link_href` varchar(255) DEFAULT NULL, `self_link_rel` varchar(255) DEFAULT NULL, `up_link_href` varchar(255) DEFAULT NULL, `up_link_rel` varchar(255) DEFAULT NULL, `updated` datetime DEFAULT NULL, `uuid` varchar(255) NOT NULL, `duration` bigint(20) DEFAULT NULL, `start` bigint(20) DEFAULT NULL, `meter_reading_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `UK_52e33c3a319146ea9dcc64bebd0` (`uuid`), KEY `FK_23dcffa0baa44ffb817767d815f` (`meter_reading_id`), CONSTRAINT `FK_23dcffa0baa44ffb817767d815f` FOREIGN KEY (`meter_reading_id`) REFERENCES `meter_readings` (`id`))
SELECT summary FROM ElectricPowerQualitySummary summary WHERE summary.id = :id
SELECT readingType FROM ReadingType readingType WHERE readingType.id = :id
CREATE TABLE `subscriptions_usage_points` ( `subscriptions_id` bigint(20) NOT NULL, `usagePoints_id` bigint(20) NOT NULL, KEY `FK_862cd528c4954f4cb2bcdadaf08` (`usagePoints_id`), KEY `FK_c138e968ff2d4cd49398210f48c` (`subscriptions_id`), CONSTRAINT `FK_c138e968ff2d4cd49398210f48c` FOREIGN KEY (`subscriptions_id`) REFERENCES `subscriptions` (`id`), CONSTRAINT `FK_862cd528c4954f4cb2bcdadaf08` FOREIGN KEY (`usagePoints_id`) REFERENCES `usage_points` (`id`))
CREATE TABLE `oauth_approvals` ( `userId` varchar(256) DEFAULT NULL, `clientId` varchar(256) DEFAULT NULL, `scope` varchar(256) DEFAULT NULL, `status` varchar(10) DEFAULT NULL, `expiresAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `lastModifiedAt` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00')
CREATE TABLE `meter_reading_related_links` ( `meter_reading_id` bigint(20) NOT NULL, `href` varchar(255) DEFAULT NULL, `rel` varchar(255) DEFAULT NULL, KEY `FK_bf71138af7384923bd0b190ac4c` (`meter_reading_id`), CONSTRAINT `FK_bf71138af7384923bd0b190ac4c` FOREIGN KEY (`meter_reading_id`) REFERENCES `meter_readings` (`id`))
SELECT info FROM ApplicationInformation info WHERE info.clientId = :clientId
SELECT config FROM TimeConfiguration config WHERE config.id = :id
SELECT authorization FROM Authorization authorization WHERE authorization.state = :state
SELECT config FROM TimeConfiguration config WHERE config.uuid = :uuid
SELECT customer FROM RetailCustomer customer
CREATE TABLE `reading_qualities` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `quality` varchar(255) DEFAULT NULL, `interval_reading_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_11d630a57d684f26894e1cd6aa6` (`interval_reading_id`), CONSTRAINT `FK_11d630a57d684f26894e1cd6aa6` FOREIGN KEY (`interval_reading_id`) REFERENCES `interval_readings` (`id`))
SELECT authorization FROM Authorization authorization WHERE authorization.scope = :scope AND authorization.retailCustomer.id = :retailCustomerId
SELECT summary FROM ElectricPowerQualitySummary summary WHERE summary.uuid = :uuid
SELECT meterReading FROM MeterReading meterReading WHERE meterReading.uuid = :uuid
SELECT reading FROM MeterReading reading join reading.relatedLinks link WHERE link.href = :href
SELECT info FROM ApplicationInformation info
SELECT point FROM UsagePoint point join point.relatedLinks link WHERE link.href = :href
CREATE TABLE `subscriptions_usage_points` ( `subscriptions_id` bigint(20) NOT NULL, `usagePoints_id` bigint(20) NOT NULL, KEY `FK_862cd528c4954f4cb2bcdadaf08` (`usagePoints_id`), KEY `FK_c138e968ff2d4cd49398210f48c` (`subscriptions_id`), CONSTRAINT `FK_c138e968ff2d4cd49398210f48c` FOREIGN KEY (`subscriptions_id`) REFERENCES `subscriptions` (`id`) )
CREATE TABLE `BatchList` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, PRIMARY KEY (`id`))
SELECT subscription FROM Subscription subscription WHERE subscription.id = :id
SELECT appinfo FROM ApplicationInformation appinfo WHERE appinfo.uuid = :uuid
CREATE TABLE `interval_readings` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `cost` bigint(20) DEFAULT NULL, `duration` bigint(20) DEFAULT NULL, `start` bigint(20) DEFAULT NULL, `value` bigint(20) DEFAULT NULL, `interval_block_id` bigint(20) DEFAULT NULL, `consumptionTier` bigint(20) DEFAULT NULL, `tou` bigint(20) DEFAULT NULL, `cpp` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_982b1bcd359b47fcb5823a43d21` (`interval_block_id`), CONSTRAINT `FK_982b1bcd359b47fcb5823a43d21` FOREIGN KEY (`interval_block_id`) REFERENCES `interval_blocks` (`id`))
SELECT timeConfiguration FROM TimeConfiguration timeConfiguration WHERE timeConfiguration.selfLink.href in (:relatedLinkHrefs)
