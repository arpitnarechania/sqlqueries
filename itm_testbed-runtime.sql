SELECT d FROM DeviceConfig d WHERE d.nodeUrn LIKE :macAddress
CREATE TABLE PERMISSIONS ( ROLE_NAME VARCHAR(150) NOT NULL, ACTION_NAME VARCHAR(30) NOT NULL, RESOURCEGROUP_NAME VARCHAR(40) )
CREATE TABLE USERS_ROLES ( ROLE_NAME VARCHAR(150) NOT NULL, USER_NAME VARCHAR(150) NOT NULL, PRIMARY KEY (ROLE_NAME, USER_NAME) )
CREATE TABLE `Coordinate` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `phi` double DEFAULT NULL, `theta` double DEFAULT NULL, `x` double NOT NULL, `y` double NOT NULL, `z` double DEFAULT NULL, PRIMARY KEY (`id`))
SELECT d FROM DeviceConfig d WHERE d.nodeUrn IN (:urns)
CREATE TABLE `ConfidentialReservationDataInternal` ( `description` varchar(255) DEFAULT NULL, `secretReservationKey` varchar(255) DEFAULT NULL, `urnPrefix` varchar(255) DEFAULT NULL, `username` varchar(255) DEFAULT NULL, `id` bigint(20) NOT NULL, PRIMARY KEY (`id`), KEY `FK1BAA03ABA4EF0E2F` (`id`), CONSTRAINT `FK1BAA03ABA4EF0E2F` FOREIGN KEY (`id`) REFERENCES `PublicReservationDataInternal` (`id`))
CREATE TABLE `PublicReservationDataInternal` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `fromDate` bigint(20) NOT NULL, `toDate` bigint(20) NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `ConfidentialReservationDataInternal_options` ( `ConfidentialReservationDataInternal_id` bigint(20) NOT NULL, `options` varchar(255) DEFAULT NULL, `options_KEY` varchar(255) NOT NULL DEFAULT '', PRIMARY KEY (`ConfidentialReservationDataInternal_id`,`options_KEY`), KEY `FKEAC3560AFD4229C4` (`ConfidentialReservationDataInternal_id`), CONSTRAINT `FKEAC3560AFD4229C4` FOREIGN KEY (`ConfidentialReservationDataInternal_id`) REFERENCES `ConfidentialReservationDataInternal` (`id`))
CREATE TABLE `reservationdata_urns` ( `urn_id` bigint(20) NOT NULL, `urns` varchar(255) NOT NULL, `POSITION` int(11) NOT NULL, PRIMARY KEY (`urn_id`,`POSITION`), KEY `FK8A442E4B730FEBBD` (`urn_id`), CONSTRAINT `FK8A442E4B730FEBBD` FOREIGN KEY (`urn_id`) REFERENCES `PublicReservationDataInternal` (`id`))
CREATE TABLE URN_RESOURCEGROUPS ( URN VARCHAR(255) NOT NULL, RESOURCEGROUP VARCHAR(40) NOT NULL, PRIMARY KEY (URN, RESOURCEGROUP) )
CREATE TABLE `KeyValueEntity` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `key_i` varchar(255) DEFAULT NULL, `value_i` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`))
SELECT d FROM DeviceConfig d WHERE d.nodeUrn = :nodeUrn
CREATE TABLE RESOURCEGROUPS ( NAME VARCHAR(40) NOT NULL, PRIMARY KEY (NAME) )
CREATE TABLE `SecretReservationKeyInternal` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `secretReservationKey` varchar(255) NOT NULL, `urnPrefix` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `secretReservationKey` (`secretReservationKey`))
SELECT d FROM DeviceConfig d
CREATE TABLE `DeviceConfig_ChannelHandlerConfig` ( `DeviceConfig_nodeUrn` varchar(255) NOT NULL, `defaultChannelPipeline_id` bigint(20) NOT NULL, UNIQUE KEY `defaultChannelPipeline_id` (`defaultChannelPipeline_id`), KEY `FK3D33A390159CEA4D` (`defaultChannelPipeline_id`), KEY `FK3D33A39023A5DD6E` (`DeviceConfig_nodeUrn`), CONSTRAINT `FK3D33A39023A5DD6E` FOREIGN KEY (`DeviceConfig_nodeUrn`) REFERENCES `DeviceConfig` (`nodeUrn`), CONSTRAINT `FK3D33A390159CEA4D` FOREIGN KEY (`defaultChannelPipeline_id`) REFERENCES `ChannelHandlerConfig` (`id`))
CREATE TABLE ACTIONS ( NAME VARCHAR(30) NOT NULL, PRIMARY KEY (NAME) )
CREATE TABLE PERMISSIONS ( ROLE_NAME VARCHAR(150) NOT NULL, ACTION_NAME VARCHAR(30) NOT NULL, RESOURCEGROUP_NAME VARCHAR(40), PRIMARY KEY(ROLE_NAME, ACTION_NAME, RESOURCEGROUP_NAME) )
CREATE TABLE `ReservationDataInternal` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `deleted` tinyint(1) DEFAULT NULL, `urnPrefix` varchar(255) DEFAULT NULL, `confidentialReservationData_id` bigint(20) DEFAULT NULL, `secretReservationKey_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK9B25EE53C8BC37A1` (`confidentialReservationData_id`), KEY `FK9B25EE536D55862D` (`secretReservationKey_id`), CONSTRAINT `FK9B25EE536D55862D` FOREIGN KEY (`secretReservationKey_id`) REFERENCES `SecretReservationKeyInternal` (`id`), CONSTRAINT `FK9B25EE53C8BC37A1` FOREIGN KEY (`confidentialReservationData_id`) REFERENCES `ConfidentialReservationDataInternal` (`id`))
CREATE TABLE `DeviceConfig` ( `nodeUrn` varchar(255) NOT NULL, `description` longtext, `gatewayNode` tinyint(1) NOT NULL, `nodePort` varchar(255) DEFAULT NULL, `nodeType` varchar(255) NOT NULL, `nodeUSBChipID` varchar(255) DEFAULT NULL, `timeoutCheckAliveMillis` bigint(20) DEFAULT NULL, `timeoutFlashMillis` bigint(20) DEFAULT NULL, `timeoutNodeApiMillis` bigint(20) DEFAULT NULL, `timeoutResetMillis` bigint(20) DEFAULT NULL, `position_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`nodeUrn`), KEY `FKB6E44958766B4057` (`position_id`), CONSTRAINT `FKB6E44958766B4057` FOREIGN KEY (`position_id`) REFERENCES `Coordinate` (`id`))
SELECT d FROM DeviceConfig d WHERE d.nodeUSBChipID = :usbChipId
CREATE TABLE USERS ( EMAIL VARCHAR(150) NOT NULL, PASSWORD VARCHAR(1500), SALT VARCHAR(1500), PRIMARY KEY (EMAIL) )
CREATE TABLE ROLES ( NAME VARCHAR(150) NOT NULL, PRIMARY KEY (NAME) )
SELECT p FROM Permission p WHERE p.id.roleName=:roleName AND p.id.actionName=:actionName AND p.id.resourcegroupName=:resourcegroupName
CREATE TABLE `ChannelHandlerConfig` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `handlerName` varchar(255) DEFAULT NULL, `instanceName` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `DeviceConfigEntity_nodeConfiguration` ( `DeviceConfigEntity_nodeUrn` varchar(255) NOT NULL, `nodeConfiguration` varchar(255) DEFAULT NULL, `nodeConfiguration_KEY` varchar(255) NOT NULL DEFAULT '', PRIMARY KEY (`DeviceConfigEntity_nodeUrn`,`nodeConfiguration_KEY`), KEY `FKDBC9EA304E5BFC51` (`DeviceConfigEntity_nodeUrn`), CONSTRAINT `FKDBC9EA304E5BFC51` FOREIGN KEY (`DeviceConfigEntity_nodeUrn`) REFERENCES `DeviceConfig` (`nodeUrn`))
CREATE TABLE `Capability` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `datatype` varchar(255) NOT NULL, `defaultValue` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `unit` varchar(255) NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `ChannelHandlerConfig_KeyValueEntity` ( `ChannelHandlerConfig_id` bigint(20) NOT NULL, `properties_id` bigint(20) NOT NULL, PRIMARY KEY (`ChannelHandlerConfig_id`,`properties_id`), KEY `FK7ABC0CEBECDDBC27` (`properties_id`), KEY `FK7ABC0CEB6B23A588` (`ChannelHandlerConfig_id`), CONSTRAINT `FK7ABC0CEB6B23A588` FOREIGN KEY (`ChannelHandlerConfig_id`) REFERENCES `ChannelHandlerConfig` (`id`), CONSTRAINT `FK7ABC0CEBECDDBC27` FOREIGN KEY (`properties_id`) REFERENCES `KeyValueEntity` (`id`))
CREATE TABLE `DeviceConfig_Capability` ( `DeviceConfig_nodeUrn` varchar(255) NOT NULL, `capabilities_id` bigint(20) NOT NULL, PRIMARY KEY (`DeviceConfig_nodeUrn`,`capabilities_id`), UNIQUE KEY `capabilities_id` (`capabilities_id`), KEY `FKA8CF467FFA19A4A` (`capabilities_id`), KEY `FKA8CF467F23A5DD6E` (`DeviceConfig_nodeUrn`), CONSTRAINT `FKA8CF467F23A5DD6E` FOREIGN KEY (`DeviceConfig_nodeUrn`) REFERENCES `DeviceConfig` (`nodeUrn`), CONSTRAINT `FKA8CF467FFA19A4A` FOREIGN KEY (`capabilities_id`) REFERENCES `Capability` (`id`))
CREATE TABLE USERS ( NAME VARCHAR(150) NOT NULL, PASSWORD VARCHAR(1500), SALT VARCHAR(1500), PRIMARY KEY (NAME) )
CREATE TABLE USERS_ROLES ( ROLE_NAME VARCHAR(150) NOT NULL, USER_EMAIL VARCHAR(150) NOT NULL, PRIMARY KEY (ROLE_NAME, USER_EMAIL) )
