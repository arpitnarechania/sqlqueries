CREATE TABLE `oc_preferences` ( `userid` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `appid` varchar(32) COLLATE utf8_bin NOT NULL DEFAULT '', `configkey` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `configvalue` longtext COLLATE utf8_bin, PRIMARY KEY (`userid`,`appid`,`configkey`))
CREATE TABLE `oc_filecache` ( `fileid` int(11) NOT NULL AUTO_INCREMENT, `storage` int(11) NOT NULL DEFAULT '0', `path` varchar(4000) COLLATE utf8_bin DEFAULT NULL, `path_hash` varchar(32) COLLATE utf8_bin NOT NULL DEFAULT '', `parent` int(11) NOT NULL DEFAULT '0', `name` varchar(250) COLLATE utf8_bin DEFAULT NULL, `mimetype` int(11) NOT NULL DEFAULT '0', `mimepart` int(11) NOT NULL DEFAULT '0', `size` bigint(20) NOT NULL DEFAULT '0', `mtime` int(11) NOT NULL DEFAULT '0', `storage_mtime` int(11) NOT NULL DEFAULT '0', `encrypted` int(11) NOT NULL DEFAULT '0', `unencrypted_size` bigint(20) NOT NULL DEFAULT '0', `etag` varchar(40) COLLATE utf8_bin DEFAULT NULL, `permissions` int(11) DEFAULT '0', PRIMARY KEY (`fileid`), UNIQUE KEY `fs_storage_path_hash` (`storage`,`path_hash`), KEY `fs_parent_name_hash` (`parent`,`name`), KEY `fs_storage_mimetype` (`storage`,`mimetype`), KEY `fs_storage_mimepart` (`storage`,`mimepart`), KEY `fs_storage_size` (`storage`,`size`,`fileid`))
CREATE TABLE `oc_storages` ( `id` varchar(64) COLLATE utf8_bin DEFAULT NULL, `numeric_id` int(11) NOT NULL AUTO_INCREMENT, PRIMARY KEY (`numeric_id`), UNIQUE KEY `storages_id_index` (`id`))
SELECT * FROM `*PREFIX*uc_storageusage` WHERE `username` = ? ORDER BY created DESC LIMIT ' . $limit;
CREATE TABLE `oc_jobs` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `class` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', `argument` varchar(256) COLLATE utf8_bin NOT NULL DEFAULT '', `last_run` int(11) DEFAULT '0', PRIMARY KEY (`id`), KEY `job_class_index` (`class`))
CREATE TABLE `oc_properties` ( `id` int(11) NOT NULL AUTO_INCREMENT, `userid` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `propertypath` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', `propertyname` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', `propertyvalue` varchar(255) COLLATE utf8_bin NOT NULL, PRIMARY KEY (`id`), KEY `property_index` (`userid`))
CREATE TABLE `oc_activity` ( `activity_id` int(11) NOT NULL AUTO_INCREMENT, `timestamp` int(11) NOT NULL DEFAULT '0', `priority` int(11) NOT NULL DEFAULT '0', `type` varchar(255) COLLATE utf8_bin NOT NULL, `user` varchar(64) COLLATE utf8_bin NOT NULL, `affecteduser` varchar(64) COLLATE utf8_bin NOT NULL, `app` varchar(255) COLLATE utf8_bin NOT NULL, `subject` varchar(255) COLLATE utf8_bin NOT NULL, `subjectparams` varchar(255) COLLATE utf8_bin NOT NULL, `message` varchar(255) COLLATE utf8_bin DEFAULT NULL, `messageparams` varchar(255) COLLATE utf8_bin DEFAULT NULL, `file` varchar(255) COLLATE utf8_bin DEFAULT NULL, `link` varchar(255) COLLATE utf8_bin DEFAULT NULL, PRIMARY KEY (`activity_id`), KEY `activity_user_time` (`affecteduser`,`timestamp`), KEY `activity_filter_by` (`affecteduser`,`user`,`timestamp`), KEY `activity_filter_app` (`affecteduser`,`app`,`timestamp`))
CREATE TABLE `oc_appconfig` ( `appid` varchar(32) COLLATE utf8_bin NOT NULL DEFAULT '', `configkey` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `configvalue` longtext COLLATE utf8_bin, PRIMARY KEY (`appid`,`configkey`), KEY `appconfig_config_key_index` (`configkey`), KEY `appconfig_appid_key` (`appid`))
CREATE TABLE `oc_privatedata` ( `keyid` int(10) unsigned NOT NULL AUTO_INCREMENT, `user` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `app` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', `key` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', `value` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', PRIMARY KEY (`keyid`))
CREATE TABLE `oc_activity_mq` ( `mail_id` int(11) NOT NULL AUTO_INCREMENT, `amq_timestamp` int(11) NOT NULL DEFAULT '0', `amq_latest_send` int(11) NOT NULL DEFAULT '0', `amq_type` varchar(255) COLLATE utf8_bin NOT NULL, `amq_affecteduser` varchar(64) COLLATE utf8_bin NOT NULL, `amq_appid` varchar(255) COLLATE utf8_bin NOT NULL, `amq_subject` varchar(255) COLLATE utf8_bin NOT NULL, `amq_subjectparams` varchar(255) COLLATE utf8_bin NOT NULL, PRIMARY KEY (`mail_id`), KEY `amp_user` (`amq_affecteduser`), KEY `amp_latest_send_time` (`amq_latest_send`), KEY `amp_timestamp_time` (`amq_timestamp`))
CREATE TABLE `oc_groups` ( `gid` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', PRIMARY KEY (`gid`))
CREATE TABLE `oc_vcategory` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `uid` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `type` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `category` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', PRIMARY KEY (`id`), KEY `uid_index` (`uid`), KEY `type_index` (`type`), KEY `category_index` (`category`))
CREATE TABLE `oc_vcategory_to_object` ( `objid` int(10) unsigned NOT NULL DEFAULT '0', `categoryid` int(10) unsigned NOT NULL DEFAULT '0', `type` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', PRIMARY KEY (`categoryid`,`objid`,`type`), KEY `vcategory_objectd_index` (`objid`,`type`))
SELECT username FROM `*PREFIX*uc_storageusage` WHERE `usage` > 0 GROUP BY username';
CREATE TABLE `oc_file_map` ( `logic_path` varchar(512) COLLATE utf8_bin NOT NULL DEFAULT '', `logic_path_hash` varchar(32) COLLATE utf8_bin NOT NULL DEFAULT '', `physic_path` varchar(512) COLLATE utf8_bin NOT NULL DEFAULT '', `physic_path_hash` varchar(32) COLLATE utf8_bin NOT NULL DEFAULT '', PRIMARY KEY (`logic_path_hash`), UNIQUE KEY `file_map_pp_index` (`physic_path_hash`))
SELECT * FROM `*PREFIX*activity` WHERE `user` = ? AND `timestamp` > ? ORDER BY timestamp DESC';
CREATE TABLE `oc_group_admin` ( `gid` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `uid` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', PRIMARY KEY (`gid`,`uid`), KEY `group_admin_uid` (`uid`))
CREATE TABLE `oc_group_user` ( `gid` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `uid` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', PRIMARY KEY (`gid`,`uid`))
CREATE TABLE `oc_mimetypes` ( `id` int(11) NOT NULL AUTO_INCREMENT, `mimetype` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', PRIMARY KEY (`id`), UNIQUE KEY `mimetype_id_index` (`mimetype`))
CREATE TABLE `oc_locks` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `userid` varchar(64) COLLATE utf8_bin DEFAULT NULL, `owner` varchar(100) COLLATE utf8_bin DEFAULT NULL, `timeout` int(10) unsigned DEFAULT NULL, `created` bigint(20) DEFAULT NULL, `token` varchar(100) COLLATE utf8_bin DEFAULT NULL, `scope` smallint(6) DEFAULT NULL, `depth` smallint(6) DEFAULT NULL, `uri` longtext COLLATE utf8_bin, PRIMARY KEY (`id`))
CREATE TABLE `oc_users` ( `uid` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `displayname` varchar(64) COLLATE utf8_bin DEFAULT NULL, `password` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', PRIMARY KEY (`uid`))
SELECT * FROM `*PREFIX*uc_storageusage` WHERE `username` = ? AND `created` > ? ORDER BY created DESC';
CREATE TABLE `oc_files_trash` ( `auto_id` int(11) NOT NULL AUTO_INCREMENT, `id` varchar(250) COLLATE utf8_bin NOT NULL DEFAULT '', `user` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `timestamp` varchar(12) COLLATE utf8_bin NOT NULL DEFAULT '', `location` varchar(512) COLLATE utf8_bin NOT NULL DEFAULT '', `type` varchar(4) COLLATE utf8_bin DEFAULT NULL, `mime` varchar(255) COLLATE utf8_bin DEFAULT NULL, PRIMARY KEY (`auto_id`), KEY `id_index` (`id`), KEY `timestamp_index` (`timestamp`), KEY `user_index` (`user`))
CREATE TABLE oc_uc_storageusage ( id INT NOT NULL AUTO_INCREMENT PRIMARY KEY, created DATETIME NOT NULL, username VARCHAR(255) NOT NULL, `usage` INT NOT NULL)
SELECT * FROM `*PREFIX*uc_chartconfig` WHERE `username` = ?';
CREATE TABLE oc_uc_chartconfig ( id INT NOT NULL AUTO_INCREMENT PRIMARY KEY, created TIMESTAMP NOT NULL, username VARCHAR(255) NOT NULL, charttype VARCHAR(255) NOT NULL, chartprovider VARCHAR(255) NOT NULL DEFAULT 'c3js')
CREATE TABLE `oc_share` ( `id` int(11) NOT NULL AUTO_INCREMENT, `share_type` smallint(6) NOT NULL DEFAULT '0', `share_with` varchar(255) COLLATE utf8_bin DEFAULT NULL, `uid_owner` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `parent` int(11) DEFAULT NULL, `item_type` varchar(64) COLLATE utf8_bin NOT NULL DEFAULT '', `item_source` varchar(255) COLLATE utf8_bin DEFAULT NULL, `item_target` varchar(255) COLLATE utf8_bin DEFAULT NULL, `file_source` int(11) DEFAULT NULL, `file_target` varchar(512) COLLATE utf8_bin DEFAULT NULL, `permissions` smallint(6) NOT NULL DEFAULT '0', `stime` bigint(20) NOT NULL DEFAULT '0', `accepted` smallint(6) NOT NULL DEFAULT '0', `expiration` datetime DEFAULT NULL, `token` varchar(32) COLLATE utf8_bin DEFAULT NULL, `mail_send` smallint(6) NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `item_share_type_index` (`item_type`,`share_type`), KEY `file_source_index` (`file_source`), KEY `token_index` (`token`))
